<script src="../lib/webcomponentsjs/webcomponents.min.js"></script>
<link rel="import" href="../lib/polymer/polymer.html">
<link rel="import" href="lib/helper.html">
<link rel="import" href="../integration/ridgets/rw-loadbal-model.html">
<link rel="stylesheet" href="../integration/ridgets/css/my-test.css">

<polymer-element name="my-test">
<template>
  <rw-loadbal-model fpathColonyId="trafgen" id="test0"></rw-loadbal-model>
</template>
<script>
Polymer('my-test', {
  ready: function() {
    this.$.test0.update = sinon.stub();
  },
  attached: function() {
    var test0 = this.$.test0;
    suite('rw-loadbal-model', function() {
      test('onData', function() {
        var seed = getTestFile('/test/data/loadbal-showstate.json', 'text');
        test0._onData(seed);
        assert.equal(129, test0.sum.fwdBindings);
      });
    })
  },
})
</script>
</polymer-element>   
<div class="viewport__body"> 
  <div id="mocha"></div>
  <my-test></my-test>
</div>