<header class="global-header">
    <div ng-if="!iframe" class="logo"></div>
    <nav class="global-nav">
        <ul id="navList" class="left">
            <li ng-repeat="item in header_list" ui-sref-active="selected" ng-if="!iframe || item.name == 'Traffic' || item.name == 'Resources'">
            <svg class="icon icon--small" ng-class="{'loading-icon' : loading}">
                            <use xmlns:xlink="http://www.w3.org/1999/xlink" ng-attr-xlink:href="{{'#' + item.icon}}" xlink:href=""></use>
                        </svg>
                <span ui-sref="{{item.name.toLowerCase()}}" class="label">{{item.name}}</span>
            </li>
        </ul>
<!--         <ul id="" class="right">
            <li ng-if="showTest">
                <div ng-class="{'button--is-on':button_on, 'button':true, 'button__size--short':true, 'button__size--medium':true}" ng-click="toggleTest()">
                    <div class="button__box">
                        <span class="button__label" style="1font-size:18px;">Test Mode</span>
                    </div>
                </div>

            </li>
        </ul> -->
    </nav>
    <div ng-show="perf" class="perf">
        <code>
            <strong>AJAX</strong> count: {{ajax.length}}, max time: {{maxAjaxTime}}ms, subscriptions: {{stats.clientWebsocket.workers}}
            <button ng-click="togglePerfClient()">client...</button>
            <button ng-click="togglePerfServer()">server...</button>
            <div ng-show="perfClient">
                <strong>Client AJAX</strong>
                <ul class="perf-list" ng-repeat="metric in ajax">
                    <li>count: {{metric.n}}, max time: {{metric.max}}ms, url: {{metric.url}}</li>
                </ul>
                <strong>Client AJAX Subscriptions</strong><br>
                <ul class="perf-list" ng-repeat="sub in clientSubscriptions">
                    <li>count: {{sub.count}}, url: {{sub.url}}</li>
                </ul>
                <em>Reload page to reset client stats</em><br>
            </div>
            <div ng-show="perfServer">
                <strong>Server REST (slowest 5)</strong><br>
                <ul class="perf-list" ng-repeat="metric in maxByUrl">
                    <li>max time: {{metric.maxTime}}ms, url: {{metric.url}}</li>
                </ul>
                <strong>Server Subscriptions</strong> sessions: {{stats.websocket.sockets}}<br>
                <ul class="perf-list" ng-repeat="sub in serverSubscriptions">
                    <li>count: {{sub.count}}, url: {{sub.url}}</li>
                </ul>
                <strong>uAgent</strong> avg time: {{avgNetconfTime}}ms, max time: {{maxNetconfTime}}ms<br>
                <button ng-click="perfServerReset()">reset server stats</button>
            </div>
        </code>
    </div>
</header>
